# TURN Server Configuration (coturn)
# Production-ready configuration

# Listening ports
listening-port=3478
tls-listening-port=5349

# Relay ports range (for media)
min-port=49152
max-port=65535

# External IP (auto-detect or set manually)
# external-ip=YOUR_PUBLIC_IP

# Realm for authentication
realm=fileshare.app

# Logging
verbose
log-file=/var/log/coturn/turnserver.log

# Database for long-term credentials (optional)
# userdb=/var/lib/coturn/turndb

# Static credentials (use environment variables in production)
# user=username:password

# Or use short-term credentials (REST API)
use-auth-secret
static-auth-secret=CHANGE_THIS_SECRET_IN_PRODUCTION

# Certificate paths for TLS
# cert=/etc/coturn/cert.pem
# pkey=/etc/coturn/privkey.pem

# Deny TURN for these addresses (private networks)
no-multicast-peers
denied-peer-ip=0.0.0.0-0.255.255.255
denied-peer-ip=10.0.0.0-10.255.255.255
denied-peer-ip=100.64.0.0-100.127.255.255
denied-peer-ip=127.0.0.0-127.255.255.255
denied-peer-ip=169.254.0.0-169.254.255.255
denied-peer-ip=172.16.0.0-172.31.255.255
denied-peer-ip=192.0.0.0-192.0.0.255
denied-peer-ip=192.0.2.0-192.0.2.255
denied-peer-ip=192.88.99.0-192.88.99.255
denied-peer-ip=192.168.0.0-192.168.255.255
denied-peer-ip=198.18.0.0-198.19.255.255
denied-peer-ip=198.51.100.0-198.51.100.255
denied-peer-ip=203.0.113.0-203.0.113.255
denied-peer-ip=240.0.0.0-255.255.255.255

# Performance tuning
fingerprint
lt-cred-mech
no-tlsv1
no-tlsv1_1

# Quotas (prevent abuse)
max-bps=1000000
bps-capacity=0
total-quota=100
user-quota=10

# Security
no-cli
no-stdout-log
